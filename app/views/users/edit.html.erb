<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <%= stylesheet_link_tag 'custom', media: 'all', 'data-turbolinks-track': 'reload' %>
</head>
<body>
  <header>
    <h1>My Portfolio</h1>
    <%= link_to "ログアウト", logout_path, class: "button_logout", data: { "turbo-method": :delete } %>
  </header>
  <div class="login-container">
    <h2>自己紹介を編集する</h2>
    <div id="flash-messages">
      <% if flash[:error].blank? %>
        <% flash.each do |key, message| %>
          <div class="flash <%= key %>"><%= message %></div>
        <% end %>
      <% end %>
    </div>
    <div class="input-group">
      <%= form_with url: root_path, local: true do |form| %>
        <div class="text-field">
          <span class="field-title">自己紹介文</span>
          <%= form.text_area :introduction, id: "introduction", rows: 5, maxlength: 200 %>
          <% if @user.errors[:introduction].any? %>
            <span class="error-message"><%= @user.errors[:introduction].first %></span>
          <% end %>
        </div>
        <div class="image-field">
          <span class="field-title">アバター画像</span>
          <%= form.label :image, "画像ファイルを添付する" %>
          <%= form.file_field :image, id: "image" %>
          <div class="file-name">
            <% if @user.image.attached? %>
              <span class="select-image"><%= @user.image.filename.to_s %></span>
            <% else %>
              <span class="select-image">選択されていません</span>
            <% end %>
          </div>
        <%= form.submit "自己紹介を確定する", class: "button-profile" %>
      <% end %>
    </div>
  </div>
  <footer>
    <p>portfolio site</p>
  </footer>
</body>
</html>